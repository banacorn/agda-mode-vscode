// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Curry = require("rescript/lib/js/curry.js");
var Assert = require("assert");
var Test__Util$AgdaModeVscode = require("./Test__Util.bs.js");
var State__Connection$AgdaModeVscode = require("../../src/State/State__Connection.bs.js");

describe("agda-mode.why-in-scope", (function () {
        var filename = "ModuleContents.agda";
        var fileContent = {
          contents: ""
        };
        beforeEach(async function () {
              fileContent.contents = await Test__Util$AgdaModeVscode.$$File.read(Test__Util$AgdaModeVscode.Path.asset(filename));
            });
        afterEach(async function () {
              return await Test__Util$AgdaModeVscode.$$File.write(Test__Util$AgdaModeVscode.Path.asset(filename), fileContent.contents);
            });
        it("should be responded with correct responses (goal)", (async function () {
                var ctx = await Test__Util$AgdaModeVscode.AgdaMode.makeAndLoad(filename);
                var responses = await State__Connection$AgdaModeVscode.sendRequestAndCollectResponses(ctx.state, {
                      TAG: "WhyInScope",
                      _0: "Lib.true",
                      _1: {
                        index: 0,
                        indexString: "0",
                        start: 48,
                        end: 55
                      },
                      [Symbol.for("name")]: "WhyInScope"
                    });
                var filteredResponses = responses.filter(Test__Util$AgdaModeVscode.filteredResponse);
                return Curry._3(Assert.deepStrictEqual, filteredResponses, [{
                              TAG: "DisplayInfo",
                              _0: {
                                TAG: "WhyInScope",
                                _0: "Lib.true is in scope as\n  * a constructor Lib.Bool.true brought into scope by\n    - its definition at /Users/banacorn/rescript/agda-mode-vscode/test/tests/assets/Lib.agda:4,3-7",
                                [Symbol.for("name")]: "WhyInScope"
                              },
                              [Symbol.for("name")]: "DisplayInfo"
                            }], undefined);
              }));
        it("should be responded with correct responses (global)", (async function () {
                var ctx = await Test__Util$AgdaModeVscode.AgdaMode.makeAndLoad(filename);
                var responses = await State__Connection$AgdaModeVscode.sendRequestAndCollectResponses(ctx.state, {
                      TAG: "WhyInScopeGlobal",
                      _0: "Lib.true",
                      [Symbol.for("name")]: "WhyInScopeGlobal"
                    });
                var filteredResponses = responses.filter(Test__Util$AgdaModeVscode.filteredResponse);
                return Curry._3(Assert.deepStrictEqual, filteredResponses, [{
                              TAG: "DisplayInfo",
                              _0: {
                                TAG: "WhyInScope",
                                _0: "Lib.true is in scope as\n  * a constructor Lib.Bool.true brought into scope by\n    - its definition at /Users/banacorn/rescript/agda-mode-vscode/test/tests/assets/Lib.agda:4,3-7",
                                [Symbol.for("name")]: "WhyInScope"
                              },
                              [Symbol.for("name")]: "DisplayInfo"
                            }], undefined);
              }));
      }));

/*  Not a pure module */
