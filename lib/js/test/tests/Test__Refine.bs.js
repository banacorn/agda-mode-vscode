// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Curry = require("rescript/lib/js/curry.js");
var Assert = require("assert");
var Vscode = require("vscode");
var Caml_option = require("rescript/lib/js/caml_option.js");
var Test__Util$AgdaModeVscode = require("./Test__Util.bs.js");

describe("agda-mode.refine", (function () {
        this.timeout(4000);
        describe("Issue #158", (function () {
                var fileContent = {
                  contents: ""
                };
                beforeEach(async function () {
                      fileContent.contents = await Test__Util$AgdaModeVscode.$$File.read(Test__Util$AgdaModeVscode.Path.asset("Refine.agda"));
                    });
                afterEach(async function () {
                      return await Test__Util$AgdaModeVscode.$$File.write(Test__Util$AgdaModeVscode.Path.asset("Refine.agda"), fileContent.contents);
                    });
                it("should result in the correct refinement", (async function () {
                        var ctx = await Test__Util$AgdaModeVscode.AgdaMode.makeAndLoad("Refine.agda");
                        await Test__Util$AgdaModeVscode.AgdaMode.execute(ctx, "Refine", Caml_option.some(new Vscode.Position(13, 9)), undefined);
                        await Test__Util$AgdaModeVscode.AgdaMode.quit(ctx);
                        var actual = await Test__Util$AgdaModeVscode.$$File.read(Test__Util$AgdaModeVscode.Path.asset("Refine.agda"));
                        var expected = await Test__Util$AgdaModeVscode.$$File.read(Test__Util$AgdaModeVscode.Path.asset("Refine.agda.out"));
                        return Curry._3(Assert.deepStrictEqual, actual, expected, undefined);
                      }));
              }));
      }));

/*  Not a pure module */
