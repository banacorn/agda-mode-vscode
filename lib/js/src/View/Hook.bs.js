// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Curry = require("rescript/lib/js/curry.js");
var React = require("react");
var $$Promise = require("reason-promise/lib/js/src/js/promise.bs.js");
var Belt_Option = require("rescript/lib/js/belt_Option.js");
var Caml_option = require("rescript/lib/js/caml_option.js");
var Chan$AgdaModeVscode = require("../Util/Chan.bs.js");
var Webapi__Dom__Element = require("rescript-webapi/lib/js/src/Webapi/Dom/Webapi__Dom__Element.bs.js");

function recv(reqChan, resChan, handler) {
  React.useEffect((function () {
          return Chan$AgdaModeVscode.on(reqChan, (function (req) {
                        return $$Promise.get(Curry._1(handler, req), (function (param) {
                                      return Chan$AgdaModeVscode.emit(resChan, param);
                                    }));
                      }));
        }), []);
  
}

function on(chan, handler) {
  React.useEffect((function () {
          return Chan$AgdaModeVscode.on(chan, handler);
        }), []);
  
}

function useFocus(param) {
  var htmlElRef = React.useRef(null);
  var setFocus = function (param) {
    return Belt_Option.forEach(Belt_Option.flatMap(Caml_option.nullable_to_opt(htmlElRef.current), Webapi__Dom__Element.asHtmlElement), (function (prim) {
                  prim.focus();
                  
                }));
  };
  return [
          htmlElRef,
          setFocus
        ];
}

exports.recv = recv;
exports.on = on;
exports.useFocus = useFocus;
/* react Not a pure module */
